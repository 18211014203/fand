!function(){var a,n,c,d,e,p;if(n=navigator.userAgent,c=n.indexOf("Android")>-1||n.indexOf("Adr")>-1,d=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),p=location.href,e=[[/\/a\/aa(\d+)/,"/a/aa$1?"],[/\/a\/ab(\d+)/,"/v/?ab=$1?"],[/\/a\/ac(\d+)/,"/v/?ac=$1&type=article"],[/\/a\/ad(\d+)/,"/ad$1"],[/\/v\/ab(\d+)/,"/v/?ab=$1"],[/\/v\/ab(\d+)_(\d+)/,"/v/?ab=$1&part=$2"],[/\/v\/ac(\d+)/,"/v/?ac=$1"],[/\/v\/ac(\d+)_(\d+)/,"/v/?ac=$1&part=$2"],[/\/[av]\/list(\d+)\/.*/,"/list/?channel=$1"],[/\/sp\/cw2016(.*)/,"/newyear2016$1"],[/\/sp\/acdc2016/,"/sp/acdc2016"],[/\/sp\/2016chuanpuwang\//,"/2016chuanpuwang/"],[/\/sp\/2017chunwanyure/,"/newyear2017"],[/\/app\/download\//,"/app/download/"],[/\/app\//,"/app/download/"]],c||d)if("http://www.acfun.cn/"==location.href)location="http://m.acfun.cn/";else for(var t=0;t<e.length;t++)if(p.match(e[t][0])){p=p.replace(new RegExp(location.origin),"http://m.acfun.cn"),a=p.replace(e[t][0],e[t][1]),location=a;break}}();